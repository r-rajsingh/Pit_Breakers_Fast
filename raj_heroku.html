<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Raj & Abhishek</title>
    <link rel="icon" type="image/ico" href="http://pluspng.com/img-png/png-panda-download-2000.png" />

  </head>
  <!-- <body bgcolor="#FF0"> -->
  <!-- <body style="background: url(https://i.pinimg.com/originals/83/f7/9d/83f79d556549b879790f2de50fd7cf98.jpg)"> -->
  <!-- <body style="background: url(http://hdqwalls.com/download/taylor-hill-vogue-us-k6-1080x1920.jpg)"> -->
           <body style="background: url(http://hdqwalls.com/download/taylor-hill-4k-q1-1080x2160.jpg)">


      <!-- <body style="background: url(http://hdqwalls.com/download/taylor-hill-vogue-us-k6-1920x1080.jpg)"> -->
      <!-- <body style="background: url(http://hdqwalls.com/download/taylor-hill-sd-1920x1080.jpg)"> -->
      <!-- <body style="background: url(http://hdqwalls.com/download/taylor-hill-4k-q1-1920x1080.jpg)"> -->

    <h1>
      <br>HELLO USER!!<br/>
         Welcome!!
    </h1>

    <div id="display">

  </div>

      <form action="/" method="POST">
        <!-- <script src="/home/raj/Atom Workspace/tutorial_code/nodejs-tutorial-master/gyronorm.complete.min.js"></script> -->
        <script src="./gyronorm.complete.min.js"></script>

        <!-- <script src="./es6-promise.min.js"></script>
        <script src="./fulltilt.min.js"></script>
        <script src="./gyronorm (copy).js"></script> -->


       <!-- <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/> -->
      <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
      <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>

          <script type="text/javascript">

          var i=0;
          var linear_acc= [{"linear_acc_x":0,"linear_acc_y":0,"linear_acc_z":0}];
          var gravity_acc= [{"gravity_acc_x":0,"gravity_acc_y":0,"gravity_acc_z":0}];
          var euler_angle=[{"alpha_z":0,"beta_y":0,"gamma_x":0,"euler_absolute":0}];
          var angular_acc=[{"acc_alpha":0,"acc_beta":0,"acc_gamma":0}];


            var gn = new GyroNorm();
            gn.init().then(function(){
              gn.start(function(data){
                Process:
                linear_acc[0].linear_acc_x=data.dm.x;
                linear_acc[0].linear_acc_y=data.dm.y;
                linear_acc[0].linear_acc_z=data.dm.z;


                gravity_acc[0].gravity_acc_x=data.dm.gx;
                gravity_acc[0].gravity_acc_y=data.dm.gy;
                gravity_acc[0].gravity_acc_z=data.dm.gz;

                euler_angle[0].alpha_z=data.do.alpha;
                euler_angle[0].beta_y=data.do.beta;
                euler_angle[0].gamma_z=data.do.gamma;
                euler_angle[0].euler_absolute=data.do.absolute;

                angular_acc[0].acc_alpha=data.dm.alpha;
                angular_acc[0].acc_beta=data.dm.beta;
                angular_acc[0].acc_gamma=data.dm.gamma;




                var server_data_1=JSON.stringify(linear_acc);
                var server_data_2=JSON.stringify(gravity_acc);
                var server_data_3=JSON.stringify(euler_angle);
                var server_data_4=JSON.stringify(angular_acc);

                device_data = {
                                    "linear_acc": server_data_1,

                                  }
                document.getElementById("display").innerHTML += JSON.stringify(device_data) + "<br><br><br>";



                    $.ajax({

                              type: "POST",
                              url: "/data",
                              crossDomain:true,

                              dataType: "json",
                                data: {
                                  "linear_acc": server_data_1
                                  // "gravity_acc": server_data_2,
                                  // "euler_angle": server_data_3,
                                  // "angular_acc": server_data_4
                                },

                                error: function () {
                                  alert('Error');
                                }

                        });
                          // .done(function ( myarray ) {alert("ajax callback response:" + myarray);
                          // });
//////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////

                        dat= [{"value":0}];
                        if(i++==600){
                          console.log("600 DATA SET OVER")
                        }

              });
            }).catch(function(e){
              console.log("error");
            });
      </script>
      <form/>
  </body>
</html>
